// This is a Prisma schema for a comprehensive healthcare database

// Importing necessary components
model User {
  id             Int          @id @default(autoincrement())
  email          String       @unique
  password       String
  profile        Profile?
  education      Education[]  @relation("UserEducation")
  experience     Experience[] @relation("UserExperience")
  skills         Skill[]      @relation("UserSkills")
  awards         Award[]      @relation("UserAwards")
  certifications  Certification[] @relation("UserCertifications")
  courses        Course[]     @relation("UserCourses")
  posts          Post[]       @relation("UserPosts")
  comments       Comment[]    @relation("UserComments")
  messages       Message[]    @relation("UserMessages")
  articles       Article[]     @relation("UserArticles")
  reviews        Review[]     @relation("UserReviews")
}

model Profile {
  id              Int    @id @default(autoincrement())
  firstName       String
  lastName        String
  userId          Int    @unique
  user            User   @relation(fields: [userId], references: [id])
}

model Education {
  id              Int    @id @default(autoincrement())
  degree          String
  institution     String
  userId          Int
  user            User   @relation("UserEducation", fields: [userId], references: [id])
}

model Experience {
  id              Int    @id @default(autoincrement())
  jobTitle        String
  company         String
  startDate       DateTime
  endDate         DateTime?
  userId          Int
  user            User   @relation("UserExperience", fields: [userId], references: [id])
}

model Skill {
  id              Int    @id @default(autoincrement())
  name            String
  rating          Int?
  users           User[] @relation("UserSkills")
}

model Award {
  id              Int    @id @default(autoincrement())
  title           String
  date            DateTime
  userId          Int
  user            User   @relation("UserAwards", fields: [userId], references: [id])
}

model Certification {
  id              Int    @id @default(autoincrement())
  title           String
  issuedBy        String
  date            DateTime
  userId          Int
  user            User   @relation("UserCertifications", fields: [userId], references: [id])
}

model Course {
  id              Int    @id @default(autoincrement())
  title           String
  description     String
  modules         Module[]   @relation("CourseModules")
  enrolled        Enrollment[] @relation("CourseEnrollments")
  userId          Int?
  user            User? @relation("UserCourses", fields: [userId], references: [id])
}

model Module {
  id              Int    @id @default(autoincrement())
  title           String
  courseId        Int
  course          Course  @relation(fields: [courseId], references: [id])
  lessons         Lesson[] @relation("ModuleLessons")
}

model Lesson {
  id              Int    @id @default(autoincrement())
  title           String
  moduleId        Int
  module         Module   @relation(fields: [moduleId], references: [id])
  progress       LessonProgress[] @relation("LessonProgress")
}

model Enrollment {
  id              Int    @id @default(autoincrement())
  userId          Int
  courseId        Int
  user            User  @relation(fields: [userId], references: [id])
  course          Course @relation(fields: [courseId], references: [id])
}

model LessonProgress {
  id            Int    @id @default(autoincrement())
  lessonId      Int
  userId        Int
  status        String
  lesson        Lesson @relation(fields: [lessonId], references: [id])
  user          User @relation(fields: [userId], references: [id])
}

model CourseLocation {
  id            Int    @id @default(autoincrement())
  courseId      Int
  location      String
  course        Course @relation(fields: [courseId], references: [id])
}

model ScheduledCourse {
  id            Int    @id @default(autoincrement())
  courseId      Int
  scheduleDate   DateTime
  course        Course @relation(fields: [courseId], references: [id])
}

model Connection {
  id            Int    @id @default(autoincrement())
  userId1      Int
  userId2      Int
  status        String
  user1        User @relation("UserConnections1", fields: [userId1], references: [id])
  user2        User @relation("UserConnections2", fields: [userId2], references: [id])
}

model Post {
  id              Int    @id @default(autoincrement())
  title           String
  content         String
  authorId        Int
  author          User @relation("UserPosts", fields: [authorId], references: [id])
  comments        Comment[] @relation("PostComments")
}

model Comment {
  id              Int    @id @default(autoincrement())
  content         String
  postId          Int
  authorId        Int
  post            Post @relation("PostComments", fields: [postId], references: [id])
  author          User @relation("UserComments", fields: [authorId], references: [id])
}

model Message {
  id              Int    @id @default(autoincrement())
  senderId        Int
  receiverId      Int
  content         String
  sender          User @relation("UserMessagesSent", fields: [senderId], references: [id])
  receiver        User @relation("UserMessagesReceived", fields: [receiverId], references: [id])
}

model Article {
  id              Int    @id @default(autoincrement())
  title           String
  content         String
  authorId        Int
  author          User @relation("UserArticles", fields: [authorId], references: [id])
  reviews         Review[] @relation("ArticleReviews")
}

model Review {
  id              Int    @id @default(autoincrement())
  rating          Int
  content         String
  articleId       Int
  authorId        Int
  article         Article @relation("ArticleReviews", fields: [articleId], references: [id])
  author          User @relation("UserReviews", fields: [authorId], references: [id])
}